# Playwright로 QA 테스트 자동화한 이야기

> [이미지와 보기](https://yooojung.notion.site/2-4-310c347ec622808fb51df2c427d1b333?pvs=73)

> 파일명: `EP2_안선정_Playwright로_QA_테스트_자동화한_이야기.md`

> **작성자:** [안선정]
> **날짜:** 2026-02-28
> **에피소드:** EP2 (2주차)

---

## Situation (상황)

- **문제 상황:** 이전 에피소드에서 Figma MCP와 Notion을 연동하여 FE·BE 개발 자동화 환경을 구축했지만, 개발 결과물이 기획서의 기능 요구사항과 Figma 디자인을 정확히 반영하고 있는지 수동으로 확인해야 하는 상황이었습니다.
- **사용 도구:** Claude Code, Playwright
- **배경:** 기존에 팀 내에서 테스트 코드를 잘 작성하지 않았고, PR 리뷰나 QA 기간에 기획 내용 중 누락된 항목이 종종 발견되었습니다. 이를 자동화하여 검수 비용을 줄이고자 했습니다.

## Task (과제)

- **목표:** 아래 항목을 자동으로 테스트할 수 있는 환경을 구축합니다.
    1. 개발한 내용이 기획서에 명시된 기능 요구사항을 모두 충족하는지 확인
    2. Figma 디자인 요소 중 반영되지 않은 부분이 있는지 탐지

## Action (행동)

### 사전 리서치: Playwright vs Chrome DevTools

테스트 자동화 도구로 Playwright와 Chrome DevTools를 비교 검토했습니다.

- **Playwright:** E2E 테스트를 위한 도구로, 브라우저에서 값을 입력하거나 페이지를 이동하거나 스크린샷을 촬영하는 작업을 코드로 수행합니다.
- **Chrome DevTools:** Chrome 브라우저의 DevTools 기능을 AI가 직접 제어하여, 현재 페이지의 HTML 구조 분석, 에러 로그 확인, 네트워크 에러 확인 등을 수행합니다.

Figma 디자인 및 Notion에 명시된 기능 중 반영되지 않은 부분을 자동으로 탐지하는 QA 작업이 목적이므로, QA 및 자동화 테스트에 특화된 **Playwright**가 더 적합하다고 판단했습니다.

### Playwright Skill 정의 및 테스트 진행

Claude Code에 아래 두 가지 Skill을 정의했습니다.

1. **`generate-qa`**: 기획서와 코드를 분석하여 테스트 항목을 리스트업합니다.
    - **자동화 가능**: Playwright로 완전 자동화 가능한 QA 항목 (클릭, 입력, 텍스트 확인)
    - **수동 확인**: 시각적 확인이 필요한 항목 (레이아웃, 디자인, 애니메이션)
    - **조건부 자동화**: 목 데이터나 환경 설정이 필요한 항목

2. **`run-qa`**: 자동화 가능 항목에 대해 Playwright 테스트 코드를 작성하고 실행합니다.

### 시행착오

1. **너무 많은 테스트 코드 생성 문제:** 생성된 다량의 테스트 코드에 대한 의구심이 있었습니다 (예: 비정상적인 테스트 로직 포함 여부). 처음에는 코드 검증이 필요했지만, 대량의 테스트 코드를 한 번에 검토하기에는 심리적 부담이 있었습니다.

### 해결 방법

1. **Playwright 내장 브라우저 UI 활용:** Playwright가 제공하는 테스트 브라우저 UI를 통해 검토 효율을 높였습니다.
    - 특정 테스트를 클릭하면 테스트 구성을 사전에 간단히 확인할 수 있었습니다.
    - 각 테스트 실행 시 스크린샷이 제공되어, 에러 발생 지점을 쉽게 파악할 수 있었습니다.
    - 전체 테스트 진행 현황이 한눈에 파악되어, 추가로 필요한 테스트를 도출하기에도 용이했습니다.
    - 기획자도 해당 테스트 결과를 보며 추가 테스트 항목을 제안할 수 있어, 개발자·기획자 간 협업에도 효과적이었습니다.

---

> **번외: .claude 폴더 삭제 참사**
>
> Claude Code에게 ".claude 파일 내 내용을 제외하고 GitHub에 올려줘"라고 요청했더니, .claude 폴더 내 파일을 전부 삭제해 버리는 참사가 발생했습니다. `.gitignore`에 `.claude`를 추가하지 않은 상태에서 작업을 푸시한 후 설정하려 했던 것이 원인이었습니다. 되돌려 달라고 요청했지만, `rm -rf`로 삭제되어 복구가 불가능했습니다.
>
> **교훈:** 무의식적으로 "Yes"를 선택하는 습관을 경계해야 한다는 점을 깨달았습니다.

---

## Result (결과)

- 예상보다 QA 테스트 항목을 잘 생성해 주었습니다. 별도의 세부 요구사항 없이도 화면 렌더링, 사용자 인터랙션, 폼 유효성 검증, 데이터 흐름, 상태 관리, 에러 처리, 엣지 케이스, 토스트 알림 등 다양한 카테고리의 테스트 항목이 도출되었습니다.
- 다만, 테스트 코드가 대량으로 생성되어 전수 검토에는 한계가 있었으며, Playwright의 브라우저 UI를 활용하여 이를 보완했습니다.

## Learning (배움)

- **결정적 활용 팁:** Playwright의 브라우저 UI를 활용하면 AI가 생성한 대량의 테스트 코드를 효율적으로 검토할 수 있으며, 개발자뿐만 아니라 기획자도 함께 QA에 참여할 수 있습니다.

- **배운 것:** 기존에 테스트 코드를 작성하지 않던 팀이라도, PR 제출 전에 AI 기반 QA 테스트를 실행한다면 기획 내용 중 누락된 항목에 대한 검수 비용을 크게 줄일 수 있을 것으로 기대됩니다.
